import{_ as r,r as t,o as i,c as y,a as s,b as l,d as o,w as n,e as c}from"./app.d641dd0e.js";const d={},h=s("h1",{id:"\u4F5C\u4E3A\u4F9D\u8D56\u8C03\u7528",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u4F5C\u4E3A\u4F9D\u8D56\u8C03\u7528","aria-hidden":"true"},"#"),l(" \u4F5C\u4E3A\u4F9D\u8D56\u8C03\u7528")],-1),u={class:"custom-container tip"},_=s("p",{class:"custom-container-title"},"TIP",-1),E={href:"https://www.typescriptlang.org/",target:"_blank",rel:"noopener noreferrer"},g={href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer"},f=c('<div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u5F00\u53D1 Koishi \u5E76\u975E\u4E00\u5B9A\u8981\u4F7F\u7528 TypeScript\uFF0C\u4F46\u5B83\u5F3A\u5927\u7684\u7C7B\u578B\u7CFB\u7EDF\u80FD\u591F\u5728\u5F00\u53D1\u4E2D\u63D0\u4F9B\u6709\u6548\u7684\u7C7B\u578B\u63D0\u793A\u3002\u5728\u63A5\u4E0B\u6765\u7684\u6587\u6863\u4E2D\uFF0C\u6211\u4EEC\u5C06\u7EDF\u4E00\u4F7F\u7528 TypeScript \u4F5C\u4E3A\u793A\u4F8B\u4EE3\u7801\u3002\u5982\u679C\u4F60\u60F3\u7F16\u5199\u7EAF\u7CB9\u7684 JS \u6216\u4F7F\u7528\u5176\u4ED6\u65B9\u8A00\uFF0C\u53EF\u4EE5\u5728\u793A\u4F8B\u4EE3\u7801\u7684\u57FA\u7840\u4E0A\u81EA\u884C\u4FEE\u6539\u3002</p></div><p>\u867D\u7136\u73B0\u5728\u6211\u4EEC\u63A8\u8350\u7EDD\u5927\u90E8\u5206\u7528\u6237\u4F7F\u7528\u6A21\u677F\u9879\u76EE\uFF0C\u4F46\u5982\u679C\u4F60\u5E0C\u671B\u5C06 Koishi \u5D4C\u5165\u66F4\u590D\u6742\u7684\u7A0B\u5E8F\u4E2D\uFF0C\u90A3\u4E48\u76F4\u63A5\u8C03\u7528\u5C06\u4F1A\u6210\u4E3A\u66F4\u5177\u6709\u7075\u6D3B\u6027\u7684\u9009\u62E9\u3002</p><h2 id="\u521D\u59CB\u5316\u9879\u76EE" tabindex="-1"><a class="header-anchor" href="#\u521D\u59CB\u5316\u9879\u76EE" aria-hidden="true">#</a> \u521D\u59CB\u5316\u9879\u76EE</h2><div class="custom-container tip"><p class="custom-container-title">TIP</p><p>Koishi \u9700\u8981 Node.js (\u6700\u4F4E v12\uFF0C\u63A8\u8350\u4F7F\u7528 LTS) \u8FD0\u884C\u73AF\u5883\uFF0C\u4F60\u9700\u8981\u81EA\u5DF1\u5B89\u88C5\u5B83\u3002</p></div><p>\u9996\u5148\u521D\u59CB\u5316\u4F60\u7684\u673A\u5668\u4EBA\u76EE\u5F55\u5E76\u5B89\u88C5 Koishi \u548C\u6240\u9700\u7684\u63D2\u4EF6 (\u8FD9\u91CC\u4EE5\u5B98\u65B9\u63D2\u4EF6 onebot \u548C echo \u4E3A\u4F8B)\uFF1A</p>',5),k=s("pre",{class:"shiki",style:{"background-color":"#032f62"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#9F9F9F"}},"# \u521D\u59CB\u5316\u9879\u76EE")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FFFF00"}},"npm"),s("span",{style:{color:"#FFFFFF"}}," init")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9F9F9F"}},"# \u5B89\u88C5 koishi \u548C\u76F8\u5173\u63D2\u4EF6")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FFFF00"}},"npm"),s("span",{style:{color:"#FFFFFF"}}," i koishi "),s("span",{style:{color:"#99FFFF"}},"@"),s("span",{style:{color:"#FFFFFF"}},"koishijs/plugin-adapter-onebot "),s("span",{style:{color:"#99FFFF"}},"@"),s("span",{style:{color:"#FFFFFF"}},"koishijs/plugin-echo")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9F9F9F"}},"# \u5B89\u88C5 TypeScript \u76F8\u5173\u4F9D\u8D56 (\u5982\u4E0D\u4F7F\u7528\u8BF7\u5FFD\u7565\u6B64\u6B65\u9AA4"),s("span",{style:{color:"#FFFFFF"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FFFF00"}},"npm"),s("span",{style:{color:"#FFFFFF"}}," i typescript "),s("span",{style:{color:"#99FFFF"}},"@"),s("span",{style:{color:"#FFFFFF"}},"types/node esbuild esbuild-register -D")])])],-1),m=s("pre",{class:"shiki",style:{"background-color":"#032f62"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#9F9F9F"}},"# \u521D\u59CB\u5316\u9879\u76EE")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FFFF00"}},"yarn"),s("span",{style:{color:"#FFFFFF"}}," init")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9F9F9F"}},"# \u5B89\u88C5 koishi \u548C\u76F8\u5173\u5E93")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FFFF00"}},"yarn"),s("span",{style:{color:"#FFFFFF"}}," add koishi "),s("span",{style:{color:"#99FFFF"}},"@"),s("span",{style:{color:"#FFFFFF"}},"koishijs/plugin-adapter-onebot "),s("span",{style:{color:"#99FFFF"}},"@"),s("span",{style:{color:"#FFFFFF"}},"koishijs/plugin-echo")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#9F9F9F"}},"# \u5B89\u88C5 TypeScript \u76F8\u5173\u4F9D\u8D56 (\u5982\u4E0D\u4F7F\u7528\u8BF7\u5FFD\u7565\u6B64\u6B65\u9AA4"),s("span",{style:{color:"#FFFFFF"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#FFFF00"}},"yarn"),s("span",{style:{color:"#FFFFFF"}}," add typescript "),s("span",{style:{color:"#99FFFF"}},"@"),s("span",{style:{color:"#FFFFFF"}},"types/node esbuild-register -D")])])],-1),b=s("p",null,[l("\u65B0\u5EFA\u5165\u53E3\u6587\u4EF6 "),s("code",null,"index.ts"),l("\uFF0C\u5E76\u5199\u4E0B\u8FD9\u6BB5\u4EE3\u7801\uFF1A")],-1),D=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," { App } "),s("span",{style:{color:"#F92672"}},"from"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'koishi'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// \u521B\u5EFA\u4E00\u4E2A Koishi \u5E94\u7528")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#66D9EF","font-style":"italic"}},"const"),s("span",{style:{color:"#F8F8F2"}}," app "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#F92672"}},"new"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E"}},"App"),s("span",{style:{color:"#F8F8F2"}},"()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// \u5B89\u88C5 onebot \u9002\u914D\u5668\u63D2\u4EF6\uFF0C\u5E76\u914D\u7F6E\u673A\u5668\u4EBA")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"plugin"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'adapter-onebot'"),s("span",{style:{color:"#F8F8F2"}},", {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  protocol: "),s("span",{style:{color:"#E6DB74"}},"'ws'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  selfId: "),s("span",{style:{color:"#E6DB74"}},"'123456789'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  endpoint: "),s("span",{style:{color:"#E6DB74"}},"'ws://127.0.0.1:6700'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"})")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// \u5B89\u88C5 echo \u63D2\u4EF6")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"plugin"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'echo'"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// \u542F\u52A8\u5E94\u7528")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"start"),s("span",{style:{color:"#F8F8F2"}},"()")])])],-1),x=s("p",null,"\u6700\u540E\u8FD0\u884C\u8FD9\u4E2A\u6587\u4EF6\uFF1A",-1),B=s("pre",{class:"shiki",style:{"background-color":"#032f62"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#FFFF00"}},"node"),s("span",{style:{color:"#FFFFFF"}}," -r esbuild-register .")])])],-1),A=s("p",null,"\u73B0\u5728\u53EF\u4EE5\u5BF9\u4F60\u7684\u673A\u5668\u4EBA\u8BF4\u8BDD\u4E86\uFF1A",-1),w=s("h2",{id:"\u6DFB\u52A0\u66F4\u591A\u63D2\u4EF6",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u6DFB\u52A0\u66F4\u591A\u63D2\u4EF6","aria-hidden":"true"},"#"),l(" \u6DFB\u52A0\u66F4\u591A\u63D2\u4EF6")],-1),j={href:"https://www.npmjs.com/",target:"_blank",rel:"noopener noreferrer"},S=c('<table><thead><tr><th style="text-align:center;">npm \u5305\u540D</th><th style="text-align:center;">\u63D2\u4EF6\u540D</th></tr></thead><tbody><tr><td style="text-align:center;">koishi-plugin-<strong>foo</strong></td><td style="text-align:center;">foo</td></tr><tr><td style="text-align:center;">@koishijs/plugin-<strong>foo</strong></td><td style="text-align:center;">foo</td></tr><tr><td style="text-align:center;"><strong>@bar</strong>/koishi-plugin-<strong>foo</strong></td><td style="text-align:center;">@bar/foo</td></tr></tbody></table><p>\u7B80\u5355\u6765\u8BF4\u5C31\u662F\uFF0C\u4ECE npm \u5305\u540D\u4E2D\u5220\u53BB <code>koishi-plugin-</code> \u548C <code>@koishijs/plugin-</code> \u4E24\u79CD\u524D\u7F00\uFF0C\u5269\u4E0B\u7684\u90E8\u5206\u5C31\u662F\u4F60\u8981\u4E66\u5199\u7684\u63D2\u4EF6\u540D\u3002\u8FD9\u6837\u65E2\u4FDD\u8BC1\u4E86\u7528\u6237\u4E66\u5199\u7B80\u4FBF\uFF0C\u53C8\u9632\u6B62\u4E86\u53D1\u5E03\u7684\u63D2\u4EF6\u6C61\u67D3\u547D\u540D\u7A7A\u95F4\u3002</p><p><code>app.plugin()</code> \u4E5F\u652F\u6301\u4F20\u5165\u5B8C\u6574\u7684\u63D2\u4EF6\u5BF9\u8C61\uFF0C\u8FD9\u79CD\u5199\u6CD5\u5C3D\u7BA1\u957F\u4E86\u4E00\u4E9B\uFF0C\u4F46\u662F\u5BF9\u4E8E TypeScript \u7528\u6237\u4F1A\u6709\u66F4\u597D\u7684\u7C7B\u578B\u652F\u6301\uFF1A</p>',3),v=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," onebot "),s("span",{style:{color:"#F92672"}},"from"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'@koishijs/plugin-adapter-onebot'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#AE81FF"}},"*"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#F92672"}},"as"),s("span",{style:{color:"#F8F8F2"}}," echo "),s("span",{style:{color:"#F92672"}},"from"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'@koishijs/plugin-echo'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"plugin"),s("span",{style:{color:"#F8F8F2"}},"(onebot, {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  protocol: "),s("span",{style:{color:"#E6DB74"}},"'ws'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  selfId: "),s("span",{style:{color:"#E6DB74"}},"'123456789'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  endpoint: "),s("span",{style:{color:"#E6DB74"}},"'ws://127.0.0.1:6700'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"})")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"plugin"),s("span",{style:{color:"#F8F8F2"}},"(echo)")])])],-1),T=s("p",null,"\u8BF7\u6CE8\u610F\u5230\u4E0A\u9762\u7684\u4E24\u4E2A\u63D2\u4EF6\u7684\u5BFC\u5165\u65B9\u5F0F\u7684\u5FAE\u5999\u5DEE\u5F02\u3002onebot \u63D2\u4EF6\u4F7F\u7528\u4E86\u9ED8\u8BA4\u5BFC\u51FA\uFF0C\u800C echo \u63D2\u4EF6\u4F7F\u7528\u4E86\u5BFC\u51FA\u7684\u547D\u540D\u7A7A\u95F4\u3002\u8FD9\u4E24\u79CD\u5199\u6CD5\u5B58\u5728\u672C\u8D28\u7684\u533A\u522B\uFF0C\u4E0D\u80FD\u6DF7\u7528\u3002\u867D\u7136\u8FD9\u53EF\u80FD\u4EA7\u751F\u4E00\u4E9B\u56F0\u6270\uFF0C\u4F46\u5BF9 TypeScript \u7528\u6237\u6765\u8BF4\uFF0C\u53EA\u9700\u6CE8\u610F\u5230\u5199\u4EE3\u7801\u65F6\u7684\u7C7B\u578B\u63D0\u793A\u5C31\u8DB3\u4EE5\u786E\u5B9A\u81EA\u5DF1\u5E94\u8BE5\u91C7\u7528\u7684\u5199\u6CD5\u3002",-1),I=s("p",null,[l("\u540C\u7406\uFF0C\u5BF9\u4E8E commonjs \u7684\u4F7F\u7528\u8005\uFF0C\u5982\u679C\u8981\u4F7F\u7528 "),s("code",null,"require"),l(" \u6765\u83B7\u53D6\u63D2\u4EF6\u5BF9\u8C61\uFF0C\u4E5F\u5E94\u6CE8\u610F\u5230\u8FD9\u79CD\u533A\u522B\uFF1A")],-1),K=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// \u8FD9\u91CC\u7684 .default \u662F\u4E0D\u53EF\u7701\u7565\u7684")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"plugin"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#66D9EF"}},"require"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'@koishijs/plugin-adapter-onebot'"),s("span",{style:{color:"#F8F8F2"}},").default, {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  protocol: "),s("span",{style:{color:"#E6DB74"}},"'ws'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  selfId: "),s("span",{style:{color:"#E6DB74"}},"'123456789'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  endpoint: "),s("span",{style:{color:"#E6DB74"}},"'ws://127.0.0.1:6700'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"})")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// \u8FD9\u91CC\u5219\u4E0D\u80FD\u5199\u4E0A .default")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"plugin"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#66D9EF"}},"require"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'@koishijs/plugin-echo'"),s("span",{style:{color:"#F8F8F2"}},"))")])])],-1),L=s("p",null,"\u4E3A\u4E86\u907F\u514D\u6DF7\u6DC6\uFF0C\u6211\u4EEC\u5EFA\u8BAE commonjs \u7684\u4F7F\u7528\u8005\u76F4\u63A5\u4F7F\u7528\u63D2\u4EF6\u7684\u77ED\u540D\u5B89\u88C5\u63D2\u4EF6\u3002",-1),N=s("h2",{id:"\u6DFB\u52A0\u4EA4\u4E92\u903B\u8F91",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u6DFB\u52A0\u4EA4\u4E92\u903B\u8F91","aria-hidden":"true"},"#"),l(" \u6DFB\u52A0\u4EA4\u4E92\u903B\u8F91")],-1),q=s("p",null,"\u73B0\u5728\u8BA9\u6211\u4EEC\u5728\u4E0A\u9762\u7684\u4EE3\u7801\u4E2D\u6DFB\u52A0\u4E00\u6BB5\u81EA\u5DF1\u7684\u4EA4\u4E92\u903B\u8F91\uFF1A",-1),M=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// \u5982\u679C\u6536\u5230\u201C\u5929\u738B\u76D6\u5730\u864E\u201D\uFF0C\u5C31\u56DE\u5E94\u201C\u5B9D\u5854\u9547\u6CB3\u5996\u201D")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"middleware"),s("span",{style:{color:"#F8F8F2"}},"(("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"session"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"next"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#F92672"}},"if"),s("span",{style:{color:"#F8F8F2"}}," (session.content "),s("span",{style:{color:"#F92672"}},"==="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'\u5929\u738B\u76D6\u5730\u864E'"),s("span",{style:{color:"#F8F8F2"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#F92672"}},"return"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'\u5B9D\u5854\u9547\u6CB3\u5996'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  } "),s("span",{style:{color:"#F92672"}},"else"),s("span",{style:{color:"#F8F8F2"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#F92672"}},"return"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E"}},"next"),s("span",{style:{color:"#F8F8F2"}},"()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"})")])])],-1),V=s("p",null,"\u7136\u540E\u91CD\u65B0\u8FD0\u884C\u4F60\u7684\u9879\u76EE\uFF1A",-1),C=s("p",null,[l("\u4E0D\u8FC7\u8FD9\u6837\u5199\u53EF\u80FD\u5E76\u4E0D\u597D\uFF0C\u56E0\u4E3A\u4E00\u65E6\u529F\u80FD\u53D8\u591A\uFF0C\u4F60\u7684 "),s("code",null,"index.ts"),l(" \u5C31\u4F1A\u53D8\u5F97\u81C3\u80BF\u3002\u6211\u4EEC\u63A8\u8350\u5C06\u4E0A\u9762\u7684\u903B\u8F91\u5199\u5728\u4E00\u4E2A\u5355\u72EC\u7684\u6587\u4EF6\u91CC\uFF0C\u5E76\u5C06\u5B83\u4F5C\u4E3A\u4E00\u4E2A\u63D2\u4EF6\u6765\u52A0\u8F7D\uFF1A")],-1),Q=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," { Context } "),s("span",{style:{color:"#F92672"}},"from"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'koishi'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"export"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"const"),s("span",{style:{color:"#F8F8F2"}}," name "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'ping'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"export"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"function"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E"}},"apply"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"ctx"),s("span",{style:{color:"#F92672"}},":"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"Context"),s("span",{style:{color:"#F8F8F2"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#88846F"}},"// \u5982\u679C\u6536\u5230\u201C\u5929\u738B\u76D6\u5730\u864E\u201D\uFF0C\u5C31\u56DE\u5E94\u201C\u5B9D\u5854\u9547\u6CB3\u5996\u201D")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ctx."),s("span",{style:{color:"#A6E22E"}},"middleware"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#F92672"}},"async"),s("span",{style:{color:"#F8F8F2"}}," ("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"session"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"next"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#F92672"}},"if"),s("span",{style:{color:"#F8F8F2"}}," (session.content "),s("span",{style:{color:"#F92672"}},"==="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'\u5929\u738B\u76D6\u5730\u864E'"),s("span",{style:{color:"#F8F8F2"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"      "),s("span",{style:{color:"#F92672"}},"return"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'\u5B9D\u5854\u9547\u6CB3\u5996'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    } "),s("span",{style:{color:"#F92672"}},"else"),s("span",{style:{color:"#F8F8F2"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"      "),s("span",{style:{color:"#F92672"}},"return"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E"}},"next"),s("span",{style:{color:"#F8F8F2"}},"()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  })")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"}")])])],-1),J=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// \u8FD9\u91CC\u7684 ./ping \u662F\u76F8\u5BF9\u4E8E index.ts \u7684\u8DEF\u5F84")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#AE81FF"}},"*"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#F92672"}},"as"),s("span",{style:{color:"#F8F8F2"}}," ping "),s("span",{style:{color:"#F92672"}},"from"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'./ping'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"plugin"),s("span",{style:{color:"#F8F8F2"}},"(ping)")])])],-1),P=s("h2",{id:"\u914D\u7F6E\u6570\u636E\u5E93",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u914D\u7F6E\u6570\u636E\u5E93","aria-hidden":"true"},"#"),l(" \u914D\u7F6E\u6570\u636E\u5E93")],-1),R=s("p",null,"\u6570\u636E\u5E93\u662F\u673A\u5668\u4EBA\u5F00\u53D1\u7684\u5E38\u89C1\u9700\u6C42\uFF0C\u8BB8\u591A\u63D2\u4EF6\u672C\u8EAB\u4E5F\u8981\u6C42\u4F60\u5B89\u88C5\u6570\u636E\u5E93\u3002\u5728 Koishi \u8FD9\u91CC\uFF0C\u6570\u636E\u5E93\u652F\u6301\u4E5F\u53EF\u4EE5\u901A\u8FC7\u63D2\u4EF6\u6765\u5B89\u88C5\u3002\u8FD9\u91CC\u4EE5 MySQL \u4E3A\u4F8B\u3002\u9996\u5148\u5B89\u88C5\u6240\u9700\u7684\u4F9D\u8D56\uFF1A",-1),O=s("pre",{class:"shiki",style:{"background-color":"#032f62"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#FFFF00"}},"npm"),s("span",{style:{color:"#FFFFFF"}}," i "),s("span",{style:{color:"#99FFFF"}},"@"),s("span",{style:{color:"#FFFFFF"}},"koishijs/plugin-database-mysql")])])],-1),z=s("pre",{class:"shiki",style:{"background-color":"#032f62"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#FFFF00"}},"yarn"),s("span",{style:{color:"#FFFFFF"}}," add "),s("span",{style:{color:"#99FFFF"}},"@"),s("span",{style:{color:"#FFFFFF"}},"koishijs/plugin-database-mysql")])])],-1),G=s("p",null,"\u7136\u540E\u7EE7\u7EED\u4FEE\u6539\u4F60\u7684\u4EE3\u7801\uFF0C\u5728\u5E94\u7528\u4E2D\u914D\u7F6E MySQL \u6570\u636E\u5E93\u63D2\u4EF6\uFF1A",-1),U=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"plugin"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'database-mysql'"),s("span",{style:{color:"#F8F8F2"}},", {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  host: "),s("span",{style:{color:"#E6DB74"}},"'[your-host]'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  port: "),s("span",{style:{color:"#AE81FF"}},"3306"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  user: "),s("span",{style:{color:"#E6DB74"}},"'root'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  password: "),s("span",{style:{color:"#E6DB74"}},"'[your-password]'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  database: "),s("span",{style:{color:"#E6DB74"}},"'[your-database]'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"})")])])],-1),X=s("p",null,"\u8FD9\u6837\u5C31\u5927\u529F\u544A\u6210\u4E86\u3002\u5F97\u76CA\u4E8E Koishi \u7684\u5185\u7F6E ORM\uFF0C\u5982\u679C\u4E00\u4E2A\u63D2\u4EF6\u9700\u8981\u6570\u636E\u5E93\u652F\u6301\uFF0C\u90A3\u4E48\u5B83\u53EA\u9700\u8981\u7F16\u5199\u901A\u7528\u4EE3\u7801\u3002\u65E0\u8BBA\u4F60\u4F7F\u7528\u7684\u662F MySQL \u8FD8\u662F MongoDB\uFF0CKoishi \u90FD\u80FD\u4F7F\u5176\u6B63\u5E38\u8FD0\u884C\u3002",-1),H=s("h2",{id:"\u914D\u7F6E\u591A\u673A\u5668\u4EBA",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u914D\u7F6E\u591A\u673A\u5668\u4EBA","aria-hidden":"true"},"#"),l(" \u914D\u7F6E\u591A\u673A\u5668\u4EBA")],-1),W=s("p",null,"\u5982\u679C\u4F60\u8981\u540C\u65F6\u8FD0\u884C\u6765\u81EA\u591A\u4E2A\u5E73\u53F0\u7684\u673A\u5668\u4EBA\uFF0C\u4F60\u53EA\u9700\u8981\u540C\u65F6\u5B89\u88C5\u7740\u591A\u4E2A\u5E73\u53F0\u7684\u9002\u914D\u5668\u63D2\u4EF6\u5373\u53EF\uFF1A",-1),Y=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// \u6765\u81EA onebot \u9002\u914D\u5668\u7684\u673A\u5668\u4EBA")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"plugin"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'adapter-onebot'"),s("span",{style:{color:"#F8F8F2"}},", {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  protocol: "),s("span",{style:{color:"#E6DB74"}},"'ws'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  selfId: "),s("span",{style:{color:"#E6DB74"}},"'123456789'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  endpoint: "),s("span",{style:{color:"#E6DB74"}},"'ws://127.0.0.1:6700'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"})")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// \u6765\u81EA discord \u9002\u914D\u5668\u7684\u673A\u5668\u4EBA")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// \u522B\u5FD8\u4E86\u5728\u4F7F\u7528\u4E4B\u524D\uFF0C\u5148\u5B89\u88C5\u76F8\u5E94\u7684\u63D2\u4EF6\u548C\u5B8C\u6210\u51C6\u5907\u5DE5\u4F5C")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"plugin"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'adapter-discord'"),s("span",{style:{color:"#F8F8F2"}},", {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  token: "),s("span",{style:{color:"#E6DB74"}},"'QwErTyUiOpAsDfGhJkLzXcVbNm'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"})")])])],-1),Z=s("p",null,[l("\u5982\u679C\u4F60\u8981\u540C\u65F6\u8FD0\u884C\u6765\u81EA\u540C\u4E00\u4E2A\u5E73\u53F0\u7684\u591A\u4E2A\u673A\u5668\u4EBA\uFF0C\u53EA\u9700\u5C06\u4E0A\u8FF0\u914D\u7F6E\u5199\u8FDB\u4E00\u4E2A "),s("code",null,"bots"),l(" \u6570\u7EC4\u5373\u53EF\uFF1A")],-1),$=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"app."),s("span",{style:{color:"#A6E22E"}},"plugin"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'adapter-onebot'"),s("span",{style:{color:"#F8F8F2"}},", {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  bots: [{")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#88846F"}},"// \u8FD9\u91CC\u914D\u7F6E\u4F60\u7684\u7B2C\u4E00\u4E2A\u673A\u5668\u4EBA")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    protocol: "),s("span",{style:{color:"#E6DB74"}},"'ws'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    selfId: "),s("span",{style:{color:"#E6DB74"}},"'123456789'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    endpoint: "),s("span",{style:{color:"#E6DB74"}},"'ws://127.0.0.1:6700'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  }, {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#88846F"}},"// \u8FD9\u91CC\u914D\u7F6E\u4F60\u7684\u7B2C\u4E8C\u4E2A\u673A\u5668\u4EBA\uFF0C\u4F60\u4E5F\u53EF\u4EE5\u4F7F\u7528\u4E0D\u540C\u7684\u901A\u4FE1\u65B9\u5F0F")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    protocol: "),s("span",{style:{color:"#E6DB74"}},"'http'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    selfId: "),s("span",{style:{color:"#E6DB74"}},"'234567890'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    endpoint: "),s("span",{style:{color:"#E6DB74"}},"'http://127.0.0.1:5700'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  }],")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"})")])])],-1);function ss(ls,os){const F=t("ExternalLinkIcon"),p=t("RouterLink"),e=t("panel-view"),a=t("chat-message");return i(),y("div",null,[h,s("div",u,[_,s("p",null,[l("\u8FD9\u7BC7\u6307\u5357\u5047\u8BBE\u4F60\u5DF2\u4E86\u89E3\u5173\u4E8E "),s("a",E,[l("TypeScript"),o(F)]),l(" \u548C "),s("a",g,[l("Node.js"),o(F)]),l(" \u7684\u4E2D\u7EA7\u77E5\u8BC6\u3002\u5982\u679C\u4F60\u521A\u5F00\u59CB\u5B66\u4E60 JS \u5F00\u53D1\u6216\u8005\u5BF9\u7F16\u5199\u4E1A\u52A1\u4EE3\u7801\u4E0D\u611F\u5174\u8DA3\uFF0C\u5EFA\u8BAE\u8DF3\u8FC7\u672C\u7AE0\uFF0C\u76F4\u63A5\u524D\u5F80 "),o(p,{to:"/manual/starter/boilerplate.html"},{default:n(()=>[l("\u521B\u5EFA\u6A21\u677F\u9879\u76EE")]),_:1}),l(" \u7AE0\u8282\u3002")])]),f,o(e,{class:"code",type:"manager",title:""},{npm:n(()=>[k]),yarn:n(()=>[m]),_:1}),b,o(e,{class:"code",title:"index.ts no-extra-header",style:{}},{default:n(()=>[D]),_:1}),x,o(e,{class:"code",title:"",style:{"background-color":"#032f62"}},{default:n(()=>[B]),_:1}),A,o(e,{title:"\u804A\u5929\u8BB0\u5F55"},{default:n(()=>[o(a,{nickname:"Alice",color:"#cc0066"},{default:n(()=>[l("echo \u4F60\u597D")]),_:1}),o(a,{nickname:"Koishi",avatar:"/koishi.png"},{default:n(()=>[l("\u4F60\u597D")]),_:1})]),_:1}),w,s("p",null,[l("Koishi \u63D2\u4EF6\u53EF\u4EE5\u5728 "),s("a",j,[l("npm"),o(F)]),l(" \u4E0A\u83B7\u53D6\u3002\u8981\u4E0B\u8F7D\u7684\u5305\u540D\u4E0E\u5B9E\u9645\u4E66\u5199\u7684\u63D2\u4EF6\u77ED\u540D\u5E76\u4E0D\u5B8C\u5168\u4E00\u6837\uFF0C\u9075\u5FAA\u4EE5\u4E0B\u7684\u89C4\u5219\uFF1A")]),S,o(e,{class:"code",title:"index.ts",style:{}},{default:n(()=>[v]),_:1}),T,I,o(e,{class:"code",title:"index.ts",style:{}},{default:n(()=>[K]),_:1}),L,N,q,o(e,{class:"code",title:"index.ts",style:{}},{default:n(()=>[M]),_:1}),V,o(e,{title:"\u804A\u5929\u8BB0\u5F55"},{default:n(()=>[o(a,{nickname:"Alice",color:"#cc0066"},{default:n(()=>[l("\u5929\u738B\u76D6\u5730\u864E")]),_:1}),o(a,{nickname:"Koishi",avatar:"/koishi.png"},{default:n(()=>[l("\u5B9D\u5854\u9547\u6CB3\u5996")]),_:1})]),_:1}),C,o(e,{class:"code",title:"ping.ts no-extra-header",style:{}},{default:n(()=>[Q]),_:1}),o(e,{class:"code",title:"index.ts",style:{}},{default:n(()=>[J]),_:1}),P,R,o(e,{class:"code",type:"manager",title:""},{npm:n(()=>[O]),yarn:n(()=>[z]),_:1}),G,o(e,{class:"code",title:"index.ts",style:{}},{default:n(()=>[U]),_:1}),X,H,W,o(e,{class:"code",title:"index.ts",style:{}},{default:n(()=>[Y]),_:1}),Z,o(e,{class:"code",title:"index.ts",style:{}},{default:n(()=>[$]),_:1})])}const es=r(d,[["render",ss],["__file","direct.html.vue"]]);export{es as default};
