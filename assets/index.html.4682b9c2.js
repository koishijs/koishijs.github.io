import{_ as F,r as t,o as r,c as p,d as l,w as n,a as s,b as o,f as y,e as a}from"./app.d641dd0e.js";const i={},d=s("h1",{id:"\u6307\u4EE4\u7CFB\u7EDF\u521D\u63A2",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u6307\u4EE4\u7CFB\u7EDF\u521D\u63A2","aria-hidden":"true"},"#"),o(" \u6307\u4EE4\u7CFB\u7EDF\u521D\u63A2")],-1),E=s("p",null,[o("\u4E00\u4E2A\u6210\u529F\u7684\u673A\u5668\u4EBA\u79BB\u4E0D\u5F00\u5F3A\u5927\u7684"),s("strong",null,"\u6307\u4EE4\u7CFB\u7EDF"),o("\u3002\u6B63\u56E0\u4E3A\u5982\u6B64\uFF0CKoishi \u5728\u7F16\u5199\u65F6\u4E5F\u5E7F\u6CDB\u7814\u7A76\u4E86\u8BB8\u591A\u6307\u4EE4\u7CFB\u7EDF\u7684\u5B9E\u73B0\uFF0C\u5E76\u505A\u6210\u4E86\u5982\u4ECA\u7684\u89C4\u6A21\u3002\u4F7F\u7528 Koishi\uFF0C\u4F60\u53EF\u4EE5\u65B9\u4FBF\u5730\u521B\u5EFA\u548C\u7BA1\u7406\u5404\u79CD\u6307\u4EE4\uFF0C\u5E76\u80FD\u591F\u9AD8\u6548\u5730\u5904\u7406\u5927\u91CF\u6307\u4EE4\u7684\u5E76\u53D1\u8C03\u7528\u3002\u540C\u65F6\uFF0CKoishi \u8FD8\u63D0\u4F9B\u4E86\u5FEB\u6377\u65B9\u5F0F\u3001\u591A\u7EA7\u6307\u4EE4\u3001\u81EA\u5B9A\u4E49\u524D\u7F00\u7B49\u529F\u80FD\uFF0C\u540C\u65F6\u652F\u6301\u8C03\u7528\u6B21\u6570\u548C\u9891\u7387\u9650\u5236\uFF0C\u6743\u9650\u7BA1\u7406\u7B49\u9AD8\u7EA7\u7279\u6027\uFF0C\u8BA9\u4F60\u5F97\u4EE5\u9AD8\u81EA\u7531\u5EA6\u6765\u914D\u7F6E\u4F60\u7684\u673A\u5668\u4EBA\u3002")],-1),h=s("p",null,"\u7F16\u5199\u4E0B\u9762\u7684\u4EE3\u7801\uFF0C\u4F60\u5C31\u5B9E\u73B0\u4E86\u4E00\u4E2A\u7B80\u5355\u7684 echo \u6307\u4EE4\uFF1A",-1),m=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx."),s("span",{style:{color:"#A6E22E"}},"command"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'echo <message>'"),s("span",{style:{color:"#F8F8F2"}},")")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"action"),s("span",{style:{color:"#F8F8F2"}},"(("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"_"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"message"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," message)")])])],-1),u=a('<p>\u8BA9\u6211\u4EEC\u56DE\u5934\u770B\u770B\u8FD9\u6BB5\u4EE3\u7801\u662F\u5982\u4F55\u5DE5\u4F5C\u7684\uFF1A</p><ul><li><code>.command()</code> \u65B9\u6CD5\u5B9A\u4E49\u4E86\u4E00\u4E2A echo \u6307\u4EE4\uFF0C\u5176\u6709\u4E00\u4E2A\u5FC5\u9009\u53C2\u6570\u4E3A message</li><li><code>.action()</code> \u65B9\u6CD5\u5B9A\u4E49\u4E86\u6307\u4EE4\u89E6\u53D1\u65F6\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u7B2C\u4E00\u4E2A\u53C2\u6570\u662F\u4E00\u4E2A Argv \u5BF9\u8C61\uFF0C\u7B2C\u4E8C\u4E2A\u53C2\u6570\u662F\u8F93\u5165\u7684 message</li></ul><p>\u8FD9\u79CD\u94FE\u5F0F\u7684\u7ED3\u6784\u80FD\u591F\u8BA9\u6211\u4EEC\u975E\u5E38\u65B9\u4FBF\u5730\u5B9A\u4E49\u548C\u6269\u5C55\u6307\u4EE4\u3002\u7A0D\u540E\u6211\u4EEC\u5C06\u770B\u5230\u8FD9\u4E24\u4E2A\u51FD\u6570\u7684\u66F4\u591A\u7528\u6CD5\uFF0C\u4EE5\u53CA\u66F4\u591A\u6307\u4EE4\u76F8\u5173\u7684\u51FD\u6570\u3002</p><h2 id="\u5B9A\u4E49\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#\u5B9A\u4E49\u53C2\u6570" aria-hidden="true">#</a> \u5B9A\u4E49\u53C2\u6570</h2><p>\u6B63\u5982\u4F60\u5728\u4E0A\u9762\u6240\u89C1\u7684\u90A3\u6837\uFF0C\u4F7F\u7528 <code>ctx.command(desc)</code> \u65B9\u6CD5\u53EF\u4EE5\u5B9A\u4E49\u4E00\u4E2A\u6307\u4EE4\uFF0C\u5176\u4E2D <code>desc</code> \u662F\u4E00\u4E2A\u5B57\u7B26\u4E32\uFF0C\u5305\u542B\u4E86<strong>\u6307\u4EE4\u540D</strong>\u548C<strong>\u53C2\u6570\u5217\u8868</strong>\u3002</p>',5),f=s("code",null,".",-1),D=s("code",null,"/",-1),_=s("li",null,[o("\u4E00\u4E2A\u6307\u4EE4\u53EF\u4EE5\u542B\u6709\u4EFB\u610F\u4E2A\u53C2\u6570\u3002\u5176\u4E2D "),s("strong",null,"\u5FC5\u9009\u53C2\u6570"),o(" \u7528\u5C16\u62EC\u53F7\u5305\u88F9\uFF0C"),s("strong",null,"\u53EF\u9009\u53C2\u6570"),o(" \u7528\u65B9\u62EC\u53F7\u5305\u88F9\u3002")],-1),g=s("p",null,[o("\u4F8B\u5982\uFF0C\u4E0B\u9762\u7684\u7A0B\u5E8F\u5B9A\u4E49\u4E86\u4E00\u4E2A\u62E5\u6709\u4E09\u4E2A\u53C2\u6570\u7684\u6307\u4EE4\uFF0C\u7B2C\u4E00\u4E2A\u4E3A\u5FC5\u9009\u53C2\u6570\uFF0C\u540E\u9762\u4E24\u4E2A\u4E3A\u53EF\u9009\u53C2\u6570\uFF0C\u5B83\u4EEC\u5C06\u5206\u522B\u4F5C\u4E3A "),s("code",null,"action"),o(" \u56DE\u8C03\u51FD\u6570\u7684\u7B2C 2, 3, 4 \u4E2A\u53C2\u6570\uFF1A")],-1),A=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx."),s("span",{style:{color:"#A6E22E"}},"command"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'my-command <arg1> [arg2] [arg3]'"),s("span",{style:{color:"#F8F8F2"}},")")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"action"),s("span",{style:{color:"#F8F8F2"}},"(("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"_"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"arg1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"arg2"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"arg3"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," { "),s("span",{style:{color:"#88846F"}},"/* do something */"),s("span",{style:{color:"#F8F8F2"}}," })")])])],-1),x=a('<div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u9664\u53BB\u8868\u8FBE\u7684\u610F\u4E49\u4E0D\u540C\uFF0C\u4EE5\u53CA\u53C2\u6570\u4E2A\u6570\u4E0D\u8DB3\u65F6\u4F7F\u7528\u5FC5\u9009\u53C2\u6570\u53EF\u80FD\u4EA7\u751F\u9519\u8BEF\u4FE1\u606F\u5916\uFF0C\u8FD9\u4E24\u79CD\u53C2\u6570\u5728\u7A0B\u5E8F\u4E0A\u662F\u6CA1\u6709\u533A\u522B\u7684\u3002\u4E0E\u6B64\u540C\u65F6\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0B <code>action</code> \u56DE\u8C03\u51FD\u6570\u4ECE\u7B2C\u4E8C\u4E2A\u53C2\u6570\u8D77\u4E5F\u603B\u662F\u5B57\u7B26\u4E32\u3002\u5982\u679C\u4F20\u5165\u7684\u53C2\u6570\u4E0D\u8DB3\uFF0C\u5219\u5BF9\u5E94\u7684\u53C2\u6570\u4E0D\u4F1A\u88AB\u4F20\u5165\uFF0C\u56E0\u6B64\u4F60\u9700\u8981\u81EA\u5DF1\u5904\u7406\u53EF\u80FD\u7684 <code>undefined</code>\u3002</p></div><h3 id="\u53D8\u957F\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#\u53D8\u957F\u53C2\u6570" aria-hidden="true">#</a> \u53D8\u957F\u53C2\u6570</h3><p>\u6709\u65F6\u6211\u4EEC\u9700\u8981\u4F20\u5165\u672A\u77E5\u6570\u91CF\u7684\u53C2\u6570\uFF0C\u8FD9\u65F6\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 <strong>\u53D8\u957F\u53C2\u6570</strong>\uFF0C\u5B83\u53EF\u4EE5\u901A\u8FC7\u5728\u62EC\u53F7\u4E2D\u524D\u7F6E <code>...</code> \u6765\u5B9E\u73B0\u3002\u5728\u4E0B\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C\u65E0\u8BBA\u4F20\u5165\u4E86\u591A\u5C11\u4E2A\u53C2\u6570\uFF0C\u90FD\u4F1A\u88AB\u653E\u5165 <code>rest</code> \u6570\u7EC4\u8FDB\u884C\u5904\u7406\uFF1A</p>',3),B=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx."),s("span",{style:{color:"#A6E22E"}},"command"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'my-command <arg1> [...rest]'"),s("span",{style:{color:"#F8F8F2"}},")")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"action"),s("span",{style:{color:"#F8F8F2"}},"(("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"_"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"arg1"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#F92672"}},"..."),s("span",{style:{color:"#FD971F","font-style":"italic"}},"rest"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," { "),s("span",{style:{color:"#88846F"}},"/* do something */"),s("span",{style:{color:"#F8F8F2"}}," })")])])],-1),b=s("h3",{id:"\u6587\u672C\u53C2\u6570",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u6587\u672C\u53C2\u6570","aria-hidden":"true"},"#"),o(" \u6587\u672C\u53C2\u6570")],-1),k=s("p",null,[o("\u901A\u5E38\u6765\u8BF4\u4F20\u5165\u7684\u4FE1\u606F\u88AB\u89E3\u6790\u6210\u6307\u4EE4\u8C03\u7528\u540E\uFF0C\u4F1A\u88AB\u7A7A\u683C\u5206\u5272\u6210\u82E5\u5E72\u4E2A\u53C2\u6570\u3002\u4F46\u5982\u679C\u4F60\u60F3\u8F93\u5165\u7684\u5C31\u662F\u542B\u6709\u7A7A\u683C\u7684\u5185\u5BB9\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5728\u62EC\u53F7\u4E2D\u540E\u7F6E "),s("code",null,":text"),o(" \u6765\u58F0\u660E\u4E00\u4E2A "),s("strong",null,"\u6587\u672C\u53C2\u6570"),o("\u3002 \u5728\u4E0B\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C\u5373\u4F7F my-command \u540E\u9762\u7684\u5185\u5BB9\u4E2D\u542B\u6709\u7A7A\u683C\uFF0C\u4E5F\u4F1A\u88AB\u6574\u4F53\u4F20\u5165 "),s("code",null,"message"),o(" \u4E2D\uFF1A")],-1),v=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx."),s("span",{style:{color:"#A6E22E"}},"command"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'my-command <message:text>'"),s("span",{style:{color:"#F8F8F2"}},")")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"action"),s("span",{style:{color:"#F8F8F2"}},"(("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"_"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"message"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," { "),s("span",{style:{color:"#88846F"}},"/* do something */"),s("span",{style:{color:"#F8F8F2"}}," })")])])],-1),K=a('<div class="custom-container tip"><p class="custom-container-title">TIP</p><p>\u6587\u672C\u53C2\u6570\u7684\u89E3\u6790\u4F18\u5148\u7EA7\u5F88\u9AD8\uFF0C\u5373\u4F7F\u662F\u4E4B\u540E\u7684\u5185\u5BB9\u4E2D\u542B\u6709\u9009\u9879\u4E5F\u4F1A\u88AB\u4E00\u5E76\u8BA4\u4E3A\u662F\u8BE5\u53C2\u6570\u7684\u4E00\u90E8\u5206\u3002\u56E0\u6B64\uFF0C\u5F53\u4F7F\u7528\u6587\u672C\u53C2\u6570\u65F6\uFF0C\u5E94\u786E\u4FDD\u9009\u9879\u5199\u5728\u8BE5\u53C2\u6570\u4E4B\u524D\uFF0C\u6216 <a href="#%E4%BD%BF%E7%94%A8%E5%BC%95%E5%8F%B7">\u4F7F\u7528\u5F15\u53F7</a> \u5C06\u8981\u8F93\u5165\u7684\u6587\u672C\u5305\u88F9\u8D77\u6765\u3002</p></div><h2 id="\u5B9A\u4E49\u9009\u9879" tabindex="-1"><a class="header-anchor" href="#\u5B9A\u4E49\u9009\u9879" aria-hidden="true">#</a> \u5B9A\u4E49\u9009\u9879</h2><p>\u4F7F\u7528 <code>cmd.option(name, desc)</code> \u51FD\u6570\u53EF\u4EE5\u7ED9\u6307\u4EE4\u5B9A\u4E49\u53C2\u6570\u3002\u8FD9\u4E2A\u51FD\u6570\u4E5F\u662F\u53EF\u4EE5\u94FE\u5F0F\u8C03\u7528\u7684\uFF0C\u5C31\u50CF\u8FD9\u6837\uFF1A</p>',3),w=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx."),s("span",{style:{color:"#A6E22E"}},"command"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'my-command'"),s("span",{style:{color:"#F8F8F2"}},")")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"option"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'alpha'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},"'-a'"),s("span",{style:{color:"#F8F8F2"}},")          "),s("span",{style:{color:"#88846F"}},"// \u5B9A\u4E49\u4E00\u4E2A\u9009\u9879")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"option"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'beta'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},"'-b [beta]'"),s("span",{style:{color:"#F8F8F2"}},")    "),s("span",{style:{color:"#88846F"}},"// \u5B9A\u4E49\u4E00\u4E2A\u5E26\u53C2\u6570\u7684\u53EF\u9009\u9009\u9879")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"option"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'gamma'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},"'-c <gamma>'"),s("span",{style:{color:"#F8F8F2"}},")  "),s("span",{style:{color:"#88846F"}},"// \u5B9A\u4E49\u4E00\u4E2A\u5E26\u53C2\u6570\u7684\u5FC5\u9009\u9009\u9879")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"action"),s("span",{style:{color:"#F8F8F2"}},"(({ "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"options"),s("span",{style:{color:"#F8F8F2"}}," }) "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF"}},"JSON"),s("span",{style:{color:"#F8F8F2"}},"."),s("span",{style:{color:"#66D9EF"}},"stringify"),s("span",{style:{color:"#F8F8F2"}},"(options))")])])],-1),N=a('<p>\u4ECE\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\u6211\u4EEC\u4E0D\u96BE\u770B\u51FA Koishi \u6307\u4EE4\u7CFB\u7EDF\u7684\u8BB8\u591A\u65B9\u4FBF\u7684\u7279\u6027\uFF1A</p><ul><li>\u4F7F\u7528\u6CE8\u518C\u7684\u591A\u4E2A\u522B\u540D\u4E2D\u7684\u4EFB\u4F55\u4E00\u4E2A\u90FD\u4F1A\u88AB\u8D4B\u503C\u5230 <code>name</code> \u4E2D</li><li>\u9009\u9879\u548C\u53C2\u6570\u4E4B\u95F4\u540C\u65F6\u652F\u6301\u7528\u7A7A\u683C\u6216\u7B49\u53F7\u9694\u5F00\u7684\u8BED\u6CD5</li><li>\u5355\u4E2A\u77ED\u6A2A\u7EBF\u540E\u8DDF\u591A\u4E2A\u5B57\u6BCD\u65F6\uFF0C\u4F1A\u628A\u4E4B\u540E\u7684\u53C2\u6570\u8D4B\u7ED9\u6700\u540E\u4E00\u4E2A\u5B57\u6BCD\uFF08\u5982\u679C\u9700\u8981\u53C2\u6570\u7684\u8BDD\uFF09</li><li>\u591A\u5B57\u6BCD\u4E2D\u5982\u679C\u6709\u77ED\u6A2A\u7EBF\uFF0C\u4F1A\u88AB\u81EA\u52A8\u8FDB\u884C\u9A7C\u5CF0\u5F0F\u5904\u7406</li><li>\u7C7B\u578B\u81EA\u52A8\u8F6C\u6362\uFF1A\u65E0\u53C2\u6570\u9ED8\u8BA4\u4E3A <code>true</code>\uFF0C\u5982\u679C\u662F\u6570\u5B57\u4F1A\u8F6C\u5316\u4E3A\u6570\u5B57\uFF0C\u5176\u4F59\u60C5\u51B5\u4E3A\u5B57\u7B26\u4E32</li><li>\u652F\u6301\u8BC6\u522B\u672A\u6CE8\u518C\u9009\u9879\uFF0C\u540C\u65F6\u4F1A\u6839\u636E\u4F20\u5165\u7684\u547D\u4EE4\u884C\u63A8\u6D4B\u662F\u5426\u9700\u8981\u53C2\u6570</li><li>\u5982\u679C\u4E00\u4E2A\u672A\u6CE8\u518C\u9009\u9879\u4EE5 <code>no-</code> \u5F00\u5934\uFF0C\u5219\u4F1A\u81EA\u52A8\u53BB\u9664\u8FD9\u4E2A\u524D\u7F00\u5E76\u5904\u7406\u4E3A <code>false</code></li></ul><p>\u5728\u8C03\u7528 <code>cmd.option()</code> \u65F6\uFF0C\u4F60\u8FD8\u53EF\u4EE5\u4F20\u5165\u7B2C\u4E09\u4E2A\u53C2\u6570\uFF0C\u5B83\u5E94\u8BE5\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u7528\u4E8E\u914D\u7F6E\u9009\u9879\u7684\u5177\u4F53\u7279\u6027\u3002\u5B83\u4EEC\u5C06\u5728\u4E0B\u9762\u9010\u4E00\u4ECB\u7ECD\u3002</p><h3 id="\u9009\u9879\u7684\u9ED8\u8BA4\u503C" tabindex="-1"><a class="header-anchor" href="#\u9009\u9879\u7684\u9ED8\u8BA4\u503C" aria-hidden="true">#</a> \u9009\u9879\u7684\u9ED8\u8BA4\u503C</h3><p>\u4F7F\u7528 <code>fallback</code> \u914D\u7F6E\u9009\u9879\u7684\u9ED8\u8BA4\u503C\u3002\u914D\u7F6E\u4E86\u9ED8\u8BA4\u503C\u7684\u9009\u9879\uFF0C\u5982\u679C\u6CA1\u6709\u88AB\u4F7F\u7528\uFF0C\u5219\u4F1A\u6309\u7167\u6CE8\u518C\u7684\u9ED8\u8BA4\u503C\u8FDB\u884C\u8D4B\u503C\u3002</p>',5),V=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx."),s("span",{style:{color:"#A6E22E"}},"command"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'my-command'"),s("span",{style:{color:"#F8F8F2"}},")")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"option"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'alpha'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},"'-a'"),s("span",{style:{color:"#F8F8F2"}},", { fallback: "),s("span",{style:{color:"#AE81FF"}},"100"),s("span",{style:{color:"#F8F8F2"}}," })")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"option"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'beta'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},"'-b'"),s("span",{style:{color:"#F8F8F2"}},", { fallback: "),s("span",{style:{color:"#AE81FF"}},"100"),s("span",{style:{color:"#F8F8F2"}}," })")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"action"),s("span",{style:{color:"#F8F8F2"}},"(({ "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"options"),s("span",{style:{color:"#F8F8F2"}}," }) "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF"}},"JSON"),s("span",{style:{color:"#F8F8F2"}},"."),s("span",{style:{color:"#66D9EF"}},"stringify"),s("span",{style:{color:"#F8F8F2"}},"(options))")])])],-1),z=s("h3",{id:"\u9009\u9879\u7684\u91CD\u8F7D",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u9009\u9879\u7684\u91CD\u8F7D","aria-hidden":"true"},"#"),o(" \u9009\u9879\u7684\u91CD\u8F7D")],-1),S=s("p",null,[o("\u5C06\u540C\u4E00\u4E2A\u9009\u9879\u6CE8\u518C\u591A\u6B21\uFF0C\u5E76\u7ED3\u5408\u4F7F\u7528 "),s("code",null,"value"),o(" \u914D\u7F6E\u9009\u9879\u7684\u91CD\u8F7D\u503C\u3002\u5982\u679C\u4F7F\u7528\u4E86\u5E26\u6709\u91CD\u8F7D\u503C\u7684\u9009\u9879\uFF0C\u5C06\u6309\u7167\u6CE8\u518C\u7684\u91CD\u8F7D\u503C\u8FDB\u884C\u8D4B\u503C\u3002")],-1),C=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx."),s("span",{style:{color:"#A6E22E"}},"command"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'my-command'"),s("span",{style:{color:"#F8F8F2"}},")")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"option"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'writer'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},"'-w <id>'"),s("span",{style:{color:"#F8F8F2"}},")")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"option"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'writer'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},"'--anonymous'"),s("span",{style:{color:"#F8F8F2"}},", { value: "),s("span",{style:{color:"#AE81FF"}},"0"),s("span",{style:{color:"#F8F8F2"}}," })")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"action"),s("span",{style:{color:"#F8F8F2"}},"(({ "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"options"),s("span",{style:{color:"#F8F8F2"}}," }) "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF"}},"JSON"),s("span",{style:{color:"#F8F8F2"}},"."),s("span",{style:{color:"#66D9EF"}},"stringify"),s("span",{style:{color:"#F8F8F2"}},"(options))")])])],-1),$=s("h2",{id:"\u7C7B\u578B\u7CFB\u7EDF",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u7C7B\u578B\u7CFB\u7EDF","aria-hidden":"true"},"#"),o(" \u7C7B\u578B\u7CFB\u7EDF")],-1),J=s("p",null,"Koishi v3 \u52A0\u5165\u4E86\u53C2\u6570\u7684\u7C7B\u578B\u7CFB\u7EDF\u3002\u5B83\u7684\u4F5C\u7528\u662F\u89C4\u7EA6\u53C2\u6570\u548C\u9009\u9879\u7684\u7C7B\u578B\uFF0C\u5E76\u5728\u6307\u4EE4\u6267\u884C\u524D\u5C31\u5BF9\u4E0D\u5408\u6CD5\u7684\u8C03\u7528\u53D1\u51FA\u8B66\u544A\u3002\u5B9A\u4E49\u4E00\u4E2A\u5E26\u7C7B\u578B\u7684\u53C2\u6570\u6216\u9009\u9879\u5F88\u7B80\u5355\uFF1A",-1),O=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#66D9EF","font-style":"italic"}},"function"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E"}},"showValue"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"value"),s("span",{style:{color:"#F8F8F2"}},") {")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#F92672"}},"return"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"`"),s("span",{style:{color:"#F92672"}},"${"),s("span",{style:{color:"#F92672"}},"typeof"),s("span",{style:{color:"#F8F8F2"}}," value"),s("span",{style:{color:"#F92672"}},"}"),s("span",{style:{color:"#E6DB74"}}," "),s("span",{style:{color:"#F92672"}},"${"),s("span",{style:{color:"#66D9EF"}},"JSON"),s("span",{style:{color:"#F8F8F2"}},"."),s("span",{style:{color:"#66D9EF"}},"stringify"),s("span",{style:{color:"#F8F8F2"}},"(value)"),s("span",{style:{color:"#F92672"}},"}"),s("span",{style:{color:"#E6DB74"}},"`")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"}")]),o(`
`),s("span",{class:"line"}),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx."),s("span",{style:{color:"#A6E22E"}},"command"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'my-command [arg:number]'"),s("span",{style:{color:"#F8F8F2"}},")")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"option"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'foo'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},"'<val:string>'"),s("span",{style:{color:"#F8F8F2"}},")")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"action"),s("span",{style:{color:"#F8F8F2"}},"(({ "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"options"),s("span",{style:{color:"#F8F8F2"}}," }, "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"arg"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"`"),s("span",{style:{color:"#F92672"}},"${"),s("span",{style:{color:"#A6E22E"}},"showValue"),s("span",{style:{color:"#F8F8F2"}},"(arg)"),s("span",{style:{color:"#F92672"}},"}"),s("span",{style:{color:"#E6DB74"}}," "),s("span",{style:{color:"#F92672"}},"${"),s("span",{style:{color:"#A6E22E"}},"showValue"),s("span",{style:{color:"#F8F8F2"}},"(options.foo)"),s("span",{style:{color:"#F92672"}},"}"),s("span",{style:{color:"#E6DB74"}},"`"),s("span",{style:{color:"#F8F8F2"}},")")])])],-1),R=a('<p>\u5982\u4F60\u6240\u89C1\uFF0C\u4E0A\u6587\u6240\u4ECB\u7ECD\u7684\u6587\u672C\u53C2\u6570\u4E5F\u6B63\u662F\u4E00\u4E2A\u5185\u7F6E\u7C7B\u578B\u3002</p><h3 id="\u5185\u7F6E\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u5185\u7F6E\u7C7B\u578B" aria-hidden="true">#</a> \u5185\u7F6E\u7C7B\u578B</h3><p>\u76EE\u524D Koishi \u652F\u6301\u7684\u5185\u7F6E\u7C7B\u578B\u6709\u5982\u4E0B\uFF1A</p><ul><li>string: <code>string</code> \u5B57\u7B26\u4E32</li><li>number: <code>number</code> \u6570\u503C</li><li>boolean: <code>boolean</code> \u5E03\u5C14\u503C\uFF08\u5B9E\u9645\u4E0A\u4E0D\u5E26\u53C2\u6570\uFF09</li><li>text: <code>string</code> \u8D2A\u5A6A\u5339\u914D\u7684\u5B57\u7B26\u4E32</li><li>user: <code>string</code> \u7528\u6237\uFF0C\u683C\u5F0F\u4E3A <code>{platform}:{id}</code></li><li>channel: <code>string</code> \u9891\u9053\uFF0C\u683C\u5F0F\u4E3A <code>{platform}:{id}</code></li><li>integer: <code>number</code> \u6574\u6570</li><li>posint: <code>number</code> \u6B63\u6574\u6570</li><li>date: <code>Date</code> \u65E5\u671F</li></ul><h3 id="\u5B9A\u4E49\u65B0\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#\u5B9A\u4E49\u65B0\u7C7B\u578B" aria-hidden="true">#</a> \u5B9A\u4E49\u65B0\u7C7B\u578B</h3><p>\u4F7F\u7528 <code>Argv.createDomain()</code> \u521B\u5EFA\u65B0\u7C7B\u578B\uFF1A</p>',6),T=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," { Argv } "),s("span",{style:{color:"#F92672"}},"from"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'koishi'")]),o(`
`),s("span",{class:"line"}),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"declare"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"module"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'koishi'"),s("span",{style:{color:"#F8F8F2"}}," {")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"namespace"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"Argv"),s("span",{style:{color:"#F8F8F2"}}," {")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"interface"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"Domain"),s("span",{style:{color:"#F8F8F2"}}," {")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"      repeat"),s("span",{style:{color:"#F92672"}},":"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"string")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    }")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  }")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"}")]),o(`
`),s("span",{class:"line"}),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"Argv."),s("span",{style:{color:"#A6E22E"}},"createDomain"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'repeat'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"source"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," source."),s("span",{style:{color:"#A6E22E"}},"repeat"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#AE81FF"}},"3"),s("span",{style:{color:"#F8F8F2"}},"))")]),o(`
`),s("span",{class:"line"}),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx."),s("span",{style:{color:"#A6E22E"}},"command"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'test [arg:repeat]'"),s("span",{style:{color:"#F8F8F2"}},")."),s("span",{style:{color:"#A6E22E"}},"action"),s("span",{style:{color:"#F8F8F2"}},"(("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"_"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"arg"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," arg)")])])],-1),H=s("h3",{id:"\u7C7B\u578B\u68C0\u67E5",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u7C7B\u578B\u68C0\u67E5","aria-hidden":"true"},"#"),o(" \u7C7B\u578B\u68C0\u67E5")],-1),I=s("p",null,[o("\u4F60\u4E5F\u53EF\u4EE5\u5728 "),s("code",null,"Argv.createDomain()"),o(" \u7684\u56DE\u8C03\u51FD\u6570\u4E2D\u629B\u51FA\u9519\u8BEF\uFF0C\u4EE5\u5B9E\u73B0\u7C7B\u578B\u68C0\u67E5\u7684\u76EE\u7684\uFF1A")],-1),L=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," { Argv } "),s("span",{style:{color:"#F92672"}},"from"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'koishi'")]),o(`
`),s("span",{class:"line"}),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"declare"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"module"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'koishi'"),s("span",{style:{color:"#F8F8F2"}}," {")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"namespace"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"Argv"),s("span",{style:{color:"#F8F8F2"}}," {")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"interface"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"Domain"),s("span",{style:{color:"#F8F8F2"}}," {")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"      positive"),s("span",{style:{color:"#F92672"}},":"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"number")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    }")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  }")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"}")]),o(`
`),s("span",{class:"line"}),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"Argv."),s("span",{style:{color:"#A6E22E"}},"createDomain"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'positive'"),s("span",{style:{color:"#F8F8F2"}},", ("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"source"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," {")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"const"),s("span",{style:{color:"#F8F8F2"}}," value "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#F92672"}},"+"),s("span",{style:{color:"#F8F8F2"}},"source")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#F92672"}},"if"),s("span",{style:{color:"#F8F8F2"}}," ("),s("span",{style:{color:"#66D9EF"}},"Math"),s("span",{style:{color:"#F8F8F2"}},"."),s("span",{style:{color:"#66D9EF"}},"sign"),s("span",{style:{color:"#F8F8F2"}},"(value) "),s("span",{style:{color:"#F92672"}},"!=="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#AE81FF"}},"1"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#F92672"}},"throw"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#F92672"}},"new"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"Error"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'\u5E94\u4E3A\u6B63\u6570\u3002'"),s("span",{style:{color:"#F8F8F2"}},")")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#F92672"}},"return"),s("span",{style:{color:"#F8F8F2"}}," value."),s("span",{style:{color:"#A6E22E"}},"toString"),s("span",{style:{color:"#F8F8F2"}},"()")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"})")]),o(`
`),s("span",{class:"line"}),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx."),s("span",{style:{color:"#A6E22E"}},"command"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'test [x:positive]'"),s("span",{style:{color:"#F8F8F2"}},")."),s("span",{style:{color:"#A6E22E"}},"action"),s("span",{style:{color:"#F8F8F2"}},"(("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"_"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"arg"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," arg)")])])],-1),P=s("h3",{id:"\u9009\u9879\u7684\u4E34\u65F6\u7C7B\u578B",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u9009\u9879\u7684\u4E34\u65F6\u7C7B\u578B","aria-hidden":"true"},"#"),o(" \u9009\u9879\u7684\u4E34\u65F6\u7C7B\u578B")],-1),M=s("p",null,[o("\u4F60\u53EF\u4EE5\u5728 "),s("code",null,"cmd.option()"),o(" \u7684\u7B2C\u4E09\u4E2A\u53C2\u6570\u4E2D\u4F20\u5165\u4E00\u4E2A "),s("code",null,"type"),o(" \u5C5E\u6027\uFF0C\u4F5C\u4E3A\u9009\u9879\u7684\u4E34\u65F6\u7C7B\u578B\u58F0\u660E\u3002\u5B83\u53EF\u4EE5\u662F\u50CF\u4E0A\u9762\u7684\u4F8B\u5B50\u4E00\u6837\u7684\u56DE\u8C03\u51FD\u6570\uFF0C\u4E5F\u53EF\u4EE5\u662F\u4E00\u4E2A "),s("code",null,"RegExp"),o(" \u5BF9\u8C61\uFF0C\u8868\u793A\u4F20\u5165\u7684\u9009\u9879\u5E94\u5F53\u5339\u914D\u7684\u6B63\u5219\u8868\u8FBE\u5F0F\uFF1A")],-1),j=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx."),s("span",{style:{color:"#A6E22E"}},"command"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'test'"),s("span",{style:{color:"#F8F8F2"}},")")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"option"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'foo'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},"'-f <foo>'"),s("span",{style:{color:"#F8F8F2"}},", { type:"),s("span",{style:{color:"#E6DB74"}}," /"),s("span",{style:{color:"#F92672"}},"^"),s("span",{style:{color:"#E6DB74"}},"ba"),s("span",{style:{color:"#F92672"}},"+"),s("span",{style:{color:"#E6DB74"}},"r"),s("span",{style:{color:"#F92672"}},"$"),s("span",{style:{color:"#E6DB74"}},"/"),s("span",{style:{color:"#F8F8F2"}}," })")]),o(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  ."),s("span",{style:{color:"#A6E22E"}},"action"),s("span",{style:{color:"#F8F8F2"}},"(({ "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"options"),s("span",{style:{color:"#F8F8F2"}}," }) "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"=>"),s("span",{style:{color:"#F8F8F2"}}," options.foo)")])])],-1);function q(G,Q){const e=t("panel-view"),c=t("RouterLink");return r(),p("div",null,[d,E,h,l(e,{class:"code",title:"",style:{}},{default:n(()=>[m]),_:1}),l(e,{messages:[["Alice","echo Hello!"],["Koishi","Hello!"]]}),u,s("ul",null,[s("li",null,[o("\u6307\u4EE4\u540D\u53EF\u4EE5\u5305\u542B\u6570\u5B57\u3001\u5B57\u6BCD\u3001\u4E0B\u5212\u7EBF\u3001\u77ED\u6A2A\u7EBF\u751A\u81F3\u4E2D\u6587\u5B57\u7B26\uFF0C\u4F46\u4E0D\u5E94\u8BE5\u5305\u542B\u7A7A\u683C\u3001\u5C0F\u6570\u70B9 "),f,o(" \u6216\u659C\u6760 "),D,o("\u3002\u5C0F\u6570\u70B9\u548C\u659C\u6760\u7684\u7528\u9014\u53C2\u89C1 "),l(c,{to:"/guide/command/help.html#%E6%8C%87%E4%BB%A4%E7%9A%84%E5%A4%9A%E7%BA%A7%E7%BB%93%E6%9E%84"},{default:n(()=>[o("\u6307\u4EE4\u7684\u591A\u7EA7\u7ED3\u6784")]),_:1}),o(" \u7AE0\u8282\u3002")]),_]),g,l(e,{class:"code",title:"",style:{}},{default:n(()=>[A]),_:1}),x,l(e,{class:"code",title:"",style:{}},{default:n(()=>[B]),_:1}),b,k,l(e,{class:"code",title:"",style:{}},{default:n(()=>[v]),_:1}),K,l(e,{class:"code",title:"",style:{}},{default:n(()=>[w]),_:1}),l(e,{messages:[["Alice","my-command -adb text --gamma=1 --foo-bar baz --no-xyz"],["Koishi",'{ "alpha": true, "d": true, "beta": "text", "gamma": 1, "fooBar": "baz", "xyz": false }']]}),N,l(e,{class:"code",title:"",style:{}},{default:n(()=>[V]),_:1}),l(e,{messages:[["Alice","my-command -b 80"],["Koishi",'{ "alpha": 100, "beta": 80 }']]}),z,S,l(e,{class:"code",title:"",style:{}},{default:n(()=>[C]),_:1}),l(e,{messages:[["Alice","my-command --anonymous"],["Koishi",'{ "writer": 0 }']]}),$,J,l(e,{class:"code",title:"",style:{}},{default:n(()=>[O]),_:1}),l(e,{messages:[["Alice","my-command 100 --foo 200"],["Koishi",'number 100 string "200"'],["Alice","my-command xyz"],["Koishi","\u53C2\u6570 arg \u8F93\u5165\u65E0\u6548\uFF0C\u8BF7\u63D0\u4F9B\u4E00\u4E2A\u6570\u5B57\u3002"]]}),R,l(e,{class:"code",title:"",style:{}},{default:n(()=>[T]),_:1}),l(e,{messages:[["Alice","test foo"],["Koishi","foofoofoo"]]}),H,I,l(e,{class:"code",title:"",style:{}},{default:n(()=>[L]),_:1}),l(e,{messages:[["Alice","test 0.5"],["Koishi","\u53C2\u6570 x \u8F93\u5165\u65E0\u6548\uFF0C\u5E94\u4E3A\u6574\u6570\u3002"]]},null,8,["messages"]),P,M,l(e,{class:"code",title:"",style:{}},{default:n(()=>[j]),_:1}),l(e,{messages:[["Alice","test -f baaaz"],["Koishi","\u9009\u9879 foo \u8F93\u5165\u65E0\u6548\uFF0C\u8BF7\u68C0\u67E5\u8BED\u6CD5\u3002"]]}),y(` ### \u4F7F\u7528\u68C0\u67E5\u5668

\u4ECE v3 \u5F00\u59CB Koishi \u652F\u6301\u7ED9\u4E00\u4E2A\u6307\u4EE4\u914D\u7F6E\u591A\u4E2A\u56DE\u8C03\u51FD\u6570\uFF0C\u5E76\u5F15\u5165\u4E86 \`cmd.before()\`\u3002\u4F60\u53EF\u4EE5\u5229\u7528\u8FD9\u4E2A\u63A5\u53E3\u5B9A\u4E49\u4E00\u4E9B\u66F4\u52A0\u590D\u6742\u7684\u7C7B\u578B\u68C0\u67E5\u903B\u8F91\u3002\u8BA9\u6211\u4EEC\u5728\u6700\u540E\u7B80\u5355\u5730\u4E86\u89E3\u4E00\u4E0B\u8FD9\u4E2A\u7279\u6027\u3002

\`\`\`ts
ctx.command('test')
  .before(checker1)
  .before(checker2)
  .action(action1)
  .action(action2)
\`\`\`

\u5728\u4E0A\u9762\u7684\u4EE3\u7801\u4E2D\uFF0C\u6211\u4EEC\u7ED9 test \u6307\u4EE4\u914D\u7F6E\u4E86 4 \u4E2A\u56DE\u8C03\u51FD\u6570\u3002\u5728\u8FD0\u884C\u65F6\uFF0C\u8FD9 4 \u4E2A\u51FD\u6570\u5C06\u9010\u4E00\u88AB\u8C03\u7528\u3002\u5F53\u5176\u4E2D\u4E00\u4E2A\u51FD\u6570\u8FD4\u56DE\u503C\u7684\u7C7B\u578B\u4E3A \`string\` \u65F6\uFF0C\u8FD9\u4E2A\u8C03\u7528\u8FC7\u7A0B\u505C\u6B62\uFF0C\u5E76\u8F93\u51FA\u8FD9\u4E2A\u8FD4\u56DE\u503C\uFF08\u5982\u679C\u8FD4\u56DE\u7A7A\u4E32\uFF0C\u8C03\u7528\u4F9D\u7136\u4F1A\u505C\u6B62\uFF0C\u6B64\u65F6\u6CA1\u6709\u8F93\u51FA\uFF09\u3002

\u5728\u6267\u884C\u987A\u5E8F\u4E0A\uFF0C\u540C\u65F6\uFF0C\`.before()\` \u56DE\u8C03\u51FD\u6570\u662F\u5148\u6CE8\u518C\u7684\u5148\u8C03\u7528\uFF1B\u800C \`.action()\` \u5219\u662F\u6700\u540E\u6CE8\u518C\u7684\u5148\u8C03\u7528\u3002\u4F60\u8FD8\u53EF\u4EE5\u901A\u8FC7\u5728\u6CE8\u518C\u56DE\u8C03\u51FD\u6570\u65F6\u4F20\u5165 truthy \u4F5C\u4E3A\u7B2C\u4E8C\u4E2A\u53C2\u6570\u6765\u5B9E\u73B0\u8FD9\u4E2A\u6548\u679C\u7684\u53CD\u8F6C\u3002

\u6307\u4EE4\u6267\u884C\u65F6\u5C06\u6309\u7167\u4E0B\u9762\u7684\u987A\u5E8F\u6CE8\u610F\u8C03\u7528\uFF1A

- before-command \u4E8B\u4EF6\uFF08\u5305\u62EC check \u56DE\u8C03\u51FD\u6570\uFF09
- action \u56DE\u8C03\u51FD\u6570
- command \u4E8B\u4EF6

\u56E0\u6B64\uFF0C\u68C0\u67E5\u5668\u53EF\u4EE5\u5728 \`usage\` \u8FD9\u6837\u7684\u5C5E\u6027\u5C1A\u672A\u53D1\u751F\u66F4\u65B0\u65F6\u8FDB\u884C\u64CD\u4F5C\uFF0C\u5E76\u63D0\u524D\u9000\u51FA\u6267\u884C\u6D41\u7A0B\u3002 `)])}const W=F(i,[["render",q],["__file","index.html.vue"]]);export{W as default};
