import{_ as a,r as t,o as F,c,d as o,w as e,a as s,b as l}from"./app.d641dd0e.js";const r={},p=s("h1",{id:"\u6269\u5C55\u6570\u636E\u6A21\u578B",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u6269\u5C55\u6570\u636E\u6A21\u578B","aria-hidden":"true"},"#"),l(" \u6269\u5C55\u6570\u636E\u6A21\u578B")],-1),y=s("p",null,[l("\u5982\u679C\u4F60\u7684\u63D2\u4EF6\u9700\u8981\u58F0\u660E\u65B0\u7684\u5B57\u6BB5\u6216\u8005\u8868\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7 "),s("code",null,"ctx.model"),l(" \u6765\u5BF9\u6570\u636E\u6A21\u578B\u8FDB\u884C\u6269\u5C55\u3002\u8BF7\u6CE8\u610F\uFF0C\u6570\u636E\u6A21\u578B\u7684\u6269\u5C55\u4E00\u5B9A\u8981\u5728\u4F7F\u7528\u524D\u5B8C\u6210\uFF0C\u4E0D\u7136\u540E\u7EED\u6570\u636E\u5E93\u64CD\u4F5C\u53EF\u80FD\u4F1A\u5931\u8D25\u3002")],-1),i=s("h2",{id:"\u6269\u5C55\u5B57\u6BB5",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u6269\u5C55\u5B57\u6BB5","aria-hidden":"true"},"#"),l(" \u6269\u5C55\u5B57\u6BB5")],-1),d=s("p",null,"\u5411\u5185\u7F6E\u7684 User \u8868\u4E2D\u6CE8\u5165\u5B57\u6BB5\u7684\u65B9\u5F0F\u5982\u4E0B\uFF1A",-1),E=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// TypeScript \u7528\u6237\u9700\u8981\u8FDB\u884C\u7C7B\u578B\u5408\u5E76")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"declare"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"module"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'koishi'"),s("span",{style:{color:"#F8F8F2"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"interface"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"User"),s("span",{style:{color:"#F8F8F2"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    foo"),s("span",{style:{color:"#F92672"}},":"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"string")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx.model."),s("span",{style:{color:"#A6E22E"}},"extend"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'user'"),s("span",{style:{color:"#F8F8F2"}},", {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#88846F"}},"// \u5411\u7528\u6237\u8868\u4E2D\u6CE8\u5165\u5B57\u7B26\u4E32\u5B57\u6BB5 foo")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  foo: "),s("span",{style:{color:"#E6DB74"}},"'string'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#88846F"}},"// \u4F60\u8FD8\u53EF\u4EE5\u914D\u7F6E\u9ED8\u8BA4\u503C\u4E3A 'bar'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  foo: { type: "),s("span",{style:{color:"#E6DB74"}},"'string'"),s("span",{style:{color:"#F8F8F2"}},", initial: "),s("span",{style:{color:"#E6DB74"}},"'bar'"),s("span",{style:{color:"#F8F8F2"}}," },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"})")])])],-1),u=s("p",null,"\u5411 Channel \u6CE8\u5165\u5B57\u6BB5\u540C\u7406\u3002",-1),h=s("h2",{id:"\u6269\u5C55\u8868",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u6269\u5C55\u8868","aria-hidden":"true"},"#"),l(" \u6269\u5C55\u8868")],-1),_=s("p",null,[l("\u5229\u7528 "),s("code",null,"ctx.model.extend()"),l(" \u7684\u7B2C\u4E09\u4E2A\u53C2\u6570\uFF0C\u6211\u4EEC\u5C31\u53EF\u4EE5\u5B9A\u4E49\u65B0\u7684\u6570\u636E\u8868\u4E86\uFF1A")],-1),f=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// TypeScript \u7528\u6237\u9700\u8981\u8FDB\u884C\u7C7B\u578B\u5408\u5E76")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"declare"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"module"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#E6DB74"}},"'koishi'"),s("span",{style:{color:"#F8F8F2"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"interface"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"Tables"),s("span",{style:{color:"#F8F8F2"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    schedule"),s("span",{style:{color:"#F92672"}},":"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"Schedule")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"export"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"interface"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"Schedule"),s("span",{style:{color:"#F8F8F2"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  id"),s("span",{style:{color:"#F92672"}},":"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"number")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  assignee"),s("span",{style:{color:"#F92672"}},":"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"string")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  time"),s("span",{style:{color:"#F92672"}},":"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"Date")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  lastCall"),s("span",{style:{color:"#F92672"}},":"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"Date")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  interval"),s("span",{style:{color:"#F92672"}},":"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"number")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  command"),s("span",{style:{color:"#F92672"}},":"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"string")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  session"),s("span",{style:{color:"#F92672"}},":"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"Session"),s("span",{style:{color:"#F8F8F2"}},"."),s("span",{style:{color:"#A6E22E","text-decoration":"underline"}},"Payload")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"}")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx.model."),s("span",{style:{color:"#A6E22E"}},"extend"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'schedule'"),s("span",{style:{color:"#F8F8F2"}},", {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#88846F"}},"// \u5404\u5B57\u6BB5\u7C7B\u578B")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  id: "),s("span",{style:{color:"#E6DB74"}},"'unsigned'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  assignee: "),s("span",{style:{color:"#E6DB74"}},"'string'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  time: "),s("span",{style:{color:"#E6DB74"}},"'timestamp'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  lastCall: "),s("span",{style:{color:"#E6DB74"}},"'timestamp'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  interval: "),s("span",{style:{color:"#E6DB74"}},"'integer'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  command: "),s("span",{style:{color:"#E6DB74"}},"'text'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  session: "),s("span",{style:{color:"#E6DB74"}},"'json'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"}, {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#88846F"}},"// \u4F7F\u7528\u81EA\u589E\u7684\u4E3B\u952E\u503C")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  autoInc: "),s("span",{style:{color:"#AE81FF"}},"true"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"})")])])],-1),D=s("h2",{id:"\u521B\u5EFA\u7D22\u5F15",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u521B\u5EFA\u7D22\u5F15","aria-hidden":"true"},"#"),l(" \u521B\u5EFA\u7D22\u5F15")],-1),m=s("p",null,"\u6211\u4EEC\u8FD8\u53EF\u4EE5\u4E3A\u6570\u636E\u5E93\u58F0\u660E\u7D22\u5F15\uFF1A",-1),x=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"// \u6CE8\u610F\u8FD9\u91CC\u914D\u7F6E\u7684\u662F\u7B2C\u4E09\u4E2A\u53C2\u6570\uFF0C\u4E5F\u5C31\u662F\u4E4B\u524D autoInc \u6240\u5728\u7684\u53C2\u6570")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"ctx.model."),s("span",{style:{color:"#A6E22E"}},"extend"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},"'foo'"),s("span",{style:{color:"#F8F8F2"}},", {}, {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#88846F"}},"// \u4E3B\u952E\uFF0C\u9ED8\u8BA4\u4E3A 'id'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#88846F"}},"// \u4E3B\u952E\u5C06\u4F1A\u88AB\u7528\u4E8E Query \u7684\u7B80\u5199\u5F62\u5F0F\uFF0C\u5982\u679C\u4F20\u5165\u7684\u662F\u539F\u59CB\u7C7B\u578B\u6216\u6570\u7EC4\u5219\u4F1A\u81EA\u884C\u7406\u89E3\u6210\u4E3B\u952E\u7684\u503C")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  primary: "),s("span",{style:{color:"#E6DB74"}},"'name'"),s("span",{style:{color:"#F8F8F2"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#88846F"}},"// \u552F\u4E00\u952E\uFF0C\u8FD9\u5E94\u8BE5\u662F\u4E00\u4E2A\u5217\u8868")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#88846F"}},"// \u8FD9\u4E2A\u5217\u8868\u4E2D\u7684\u5B57\u6BB5\u5BF9\u5E94\u7684\u503C\u5728\u521B\u5EFA\u548C\u4FEE\u6539\u7684\u65F6\u5019\u90FD\u4E0D\u5141\u8BB8\u4E0E\u5176\u4ED6\u884C\u91CD\u590D")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  unique: ["),s("span",{style:{color:"#E6DB74"}},"'bar'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},"'baz'"),s("span",{style:{color:"#F8F8F2"}},"],")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  "),s("span",{style:{color:"#88846F"}},"// \u5916\u952E\uFF0C\u8FD9\u5E94\u8BE5\u662F\u4E00\u4E2A\u952E\u503C\u5BF9")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  foreign: {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    "),s("span",{style:{color:"#88846F"}},"// \u76F8\u5F53\u4E8E\u7EA6\u675F\u4E86 foo.uid \u5FC5\u987B\u662F\u67D0\u4E00\u4E2A user.id")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    uid: ["),s("span",{style:{color:"#E6DB74"}},"'user'"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},"'id'"),s("span",{style:{color:"#F8F8F2"}},"],")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"})")])])],-1);function B(b,g){const n=t("panel-view");return F(),c("div",null,[p,y,i,d,o(n,{class:"code",title:"",style:{}},{default:e(()=>[E]),_:1}),u,h,_,o(n,{class:"code",title:"",style:{}},{default:e(()=>[f]),_:1}),D,m,o(n,{class:"code",title:"",style:{}},{default:e(()=>[x]),_:1})])}const k=a(r,[["render",B],["__file","model.html.vue"]]);export{k as default};
