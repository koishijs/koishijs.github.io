import{_ as o,r as n,o as a,c as F,d as t,w as r,a as s,b as l,e as c}from"./app.d641dd0e.js";const p={},i=s("h1",{id:"\u5904\u7406\u7533\u8BF7",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#\u5904\u7406\u7533\u8BF7","aria-hidden":"true"},"#"),l(" \u5904\u7406\u7533\u8BF7 (Verifier)")],-1),y=s("p",null,"@koishijs/plugin-verifier \u53EF\u7528\u4E8E\u914D\u7F6E\u673A\u5668\u4EBA\u63A5\u6536\u5230\u5404\u7C7B\u7533\u8BF7\u65F6\u7684\u884C\u4E3A\u3002",-1),u=s("pre",{class:"shiki",style:{"background-color":"#272822"}},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"export"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#F92672"}},"default"),s("span",{style:{color:"#F8F8F2"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  plugins: {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    verifier: {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"      onFriendRequest: "),s("span",{style:{color:"#AE81FF"}},"true"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#88846F"}},"// \u901A\u8FC7\u6240\u6709\u597D\u53CB\u7533\u8BF7")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"      onGroupMemberRequest: "),s("span",{style:{color:"#AE81FF"}},"undefined"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#88846F"}},"// \u5FFD\u7565\u6240\u6709\u52A0\u7FA4\u7533\u8BF7\uFF08\u5F53\u7136\u8FD9\u6CA1\u5FC5\u8981\u5199\u51FA\u6765\uFF09")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"      "),s("span",{style:{color:"#F92672"}},"async"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#A6E22E"}},"onGroupRequest"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"session"),s("span",{style:{color:"#F8F8F2"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#88846F"}},"// \u62D2\u7EDD\u6240\u6709\u6765\u81EA 1 \u7EA7\u4EE5\u4E0B\uFF0C\u901A\u8FC7\u6240\u6709\u6765\u81EA 3 \u7EA7\u6216\u4EE5\u4E0A\u6743\u9650\u7528\u6237\u7684\u52A0\u7FA4\u9080\u8BF7\uFF0C\u5176\u4ED6\u4E0D\u5904\u7406")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"const"),s("span",{style:{color:"#F8F8F2"}}," user "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#F92672"}},"await"),s("span",{style:{color:"#F8F8F2"}}," session."),s("span",{style:{color:"#A6E22E"}},"observeUser"),s("span",{style:{color:"#F8F8F2"}},"(["),s("span",{style:{color:"#E6DB74"}},"'authority'"),s("span",{style:{color:"#F8F8F2"}},"])")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        "),s("span",{style:{color:"#F92672"}},"if"),s("span",{style:{color:"#F8F8F2"}}," (user.authority "),s("span",{style:{color:"#F92672"}},">="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#AE81FF"}},"3"),s("span",{style:{color:"#F8F8F2"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"          "),s("span",{style:{color:"#F92672"}},"return"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#AE81FF"}},"true")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        } "),s("span",{style:{color:"#F92672"}},"else"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#F92672"}},"if"),s("span",{style:{color:"#F8F8F2"}}," (user.authority "),s("span",{style:{color:"#F92672"}},"<="),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#AE81FF"}},"1"),s("span",{style:{color:"#F8F8F2"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"          "),s("span",{style:{color:"#F92672"}},"return"),s("span",{style:{color:"#F8F8F2"}}," "),s("span",{style:{color:"#AE81FF"}},"false")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"      },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"  },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"}")])])],-1),d=c("<p>\u5728\u4E0A\u9762\u7684\u4F8B\u5B50\u4E2D\uFF0C<code>onFriendRequest</code>, <code>onGroupMemberRequest</code> \u548C <code>onGroupRequest</code> \u5206\u522B\u7528\u4E8E\u5904\u7406\u597D\u53CB\u7533\u8BF7\uFF0C\u52A0\u7FA4\u7533\u8BF7\u548C\u52A0\u7FA4\u9080\u8BF7\u3002\u6BCF\u4E2A\u9009\u9879\u7684\u503C\u90FD\u53EF\u4EE5\u662F\u4E0B\u9762\u51E0\u79CD\u7C7B\u578B\uFF1A</p><ul><li>true: \u8868\u793A\u901A\u8FC7\u7533\u8BF7</li><li>false: \u8868\u793A\u62D2\u7EDD\u7533\u8BF7</li><li>undefined: \u8868\u793A\u4E0D\u505A\u5904\u7406</li><li>\u5B57\u7B26\u4E32 <ul><li>\u5982\u679C\u662F\u597D\u53CB\u7533\u8BF7\uFF0C\u5219\u8868\u793A\u901A\u8FC7\uFF0C\u5E76\u4F7F\u7528\u8BE5\u5B57\u7B26\u4E32\u4F5C\u4E3A\u8BE5\u597D\u53CB\u7684\u5907\u6CE8\u540D</li><li>\u5982\u679C\u662F\u52A0\u7FA4\u7533\u8BF7\u6216\u9080\u8BF7\uFF0C\u5219\u8868\u793A\u62D2\u7EDD\uFF0C\u5E76\u4F7F\u7528\u8BE5\u5B57\u7B26\u4E32\u4F5C\u4E3A\u62D2\u7EDD\u7684\u7406\u7531</li></ul></li><li>\u51FD\u6570 <ul><li>\u4F20\u5165\u4E24\u4E2A\u53C2\u6570\uFF0C\u7B2C\u4E00\u4E2A\u662F\u8BF7\u6C42\u5BF9\u5E94\u7684 Session \u5BF9\u8C61\uFF0C\u7B2C\u4E8C\u4E2A\u662F\u6240\u5728\u7684 App \u5B9E\u4F8B</li><li>\u8FD4\u56DE\u503C\u540C\u6837\u53EF\u4EE5\u662F true, false, undefined, \u5B57\u7B26\u4E32\u6216\u5BF9\u5E94\u7684 Promise\uFF0C\u5C06\u6309\u7167\u4E0A\u9762\u6240\u8BF4\u7684\u65B9\u5F0F\u6765\u89E3\u8BFB</li></ul></li></ul>",2);function f(_,h){const e=n("panel-view");return a(),F("div",null,[i,y,t(e,{class:"code",title:"koishi.ts",style:{}},{default:r(()=>[u]),_:1}),d])}const m=o(p,[["render",f],["__file","verifier.html.vue"]]);export{m as default};
